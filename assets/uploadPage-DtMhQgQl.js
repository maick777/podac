import{Q as g,a as m}from"./QUploader-CeydzPH5.js";import{r as y,u as h,c as l,o as n,a as o,b as _,w as b,Q as S,n as U,t as x,F as k}from"./index-DhVY4AOr.js";const v={key:0,class:"error"},E={__name:"uploadPage",props:{label:{type:String,default:""},color:{type:String,default:"red"},api:{type:String,default:""}},emits:["data_pdf"],setup(t,{emit:d}){const c="https://api.ourspace.ggrosio.com"+t.api,s=y(null),r=d,p=a=>{try{const e=JSON.parse(a.xhr.responseText);r("data_pdf",{data:e})}catch(e){console.log(e),r("data_pdf",{error:"Error al procesar la respuesta:"})}},i=a=>{try{const e=JSON.parse(a.xhr.response);r("data_pdf",{error:e.message})}catch(e){console.log(e),r("data_pdf",{error:"Error al procesar la respuesta:"})}},u=h();function f(){return[{name:"Authorization",value:`Bearer ${u.token}`}]}return(a,e)=>(n(),l(k,null,[o(m,{label:t.label,glossy:"",url:c,"field-name":"file","auto-upload":"","max-files":"1",headers:f,onUploaded:p,onFailed:i,factory:a.factoryFn,color:"grey-9","text-color":"white",flat:"",bordered:"","add-icon":"cloud_upload"},{header:b(()=>[o(g),o(S,{icon:"las la-cloud-upload-alt",label:"Selecionar",class:U(["full-width no-border-radius",a.$q.dark.isActive?"bg-grey-9 text-grey-2":"bg-grey-4 text-grey-9"]),flat:""},null,8,["class"])]),_:1},8,["label","factory"]),s.value?(n(),l("div",v,x(s.value),1)):_("",!0)],64))}};export{E as default};
