import{u as Pe,Q as O,b as Ne,a as j,c as Le,d as Me,e as se,f as oe,C as Re}from"./notifyHooks-DTCs8dSN.js";import{a2 as Oe,a3 as je,a4 as Ge,a5 as He,r as u,a6 as Je,e as B,f as ye,a7 as k,h as Ze,a8 as We,a9 as Xe,Z as ce,a1 as Ye,aa as Qe,y as Ie,z as el,ab as Te,g as Ue,c as de,o as Q,a as i,w as o,m as ze,l as ae,k as p,q as ll,j as I,Q as pe,s as b,t as F,F as Ve,i as U,b as M,ac as re,n as al,x as ue,ad as tl,ae as nl}from"./index-DhVY4AOr.js";import{Q as il}from"./QBtnDropdown-fPiSFeZG.js";import{Q as sl}from"./QExpansionItem-BpTg90Cf.js";import{Q as Ke}from"./QImg-Dbz0IE_y.js";import{a as ol,_ as rl,P as Ee,Q as R}from"./PopupComponent-BMoTzUKP.js";import{Q as ul}from"./QSlideTransition-DTNjs9-t.js";import{Q as dl}from"./QPage-C9SVU1xd.js";import{a as le,_ as cl}from"./selectComponent-DZrnU1wb.js";import fl from"./TareaDetalle-BZqwmF17.js";import{Q as vl}from"./QForm-mmGRrtT6.js";import{_ as ml}from"./textareaComponent-BbQtPJaR.js";import{_ as we,f as X,a as Ae}from"./formatDate-DzzFVTZi.js";import{u as Fe}from"./vue-i18n.runtime-mEmbPDrt.js";import{_ as _l}from"./tareaFormComponent-CDAm9ADA.js";import"./use-quasar-2VkCt5Th.js";import"./use-render-cache-7gfEi9oV.js";import"./imageComponent-G_iIqQmX.js";const bl=["none","strict","leaf","leaf-filtered"],gl=Oe({name:"QTree",props:{...je,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:n=>bl.includes(n)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:{},noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(n,{slots:m,emit:K}){const{proxy:_}=Ge(),{$q:d}=_,D=He(n,d),C=u({}),T=u(n.ticked||[]),E=u(n.expanded||[]);let A={};Je(()=>{A={}});const w=B(()=>`q-tree q-tree--${n.dense===!0?"dense":"standard"}`+(n.noConnectors===!0?" q-tree--no-connectors":"")+(D.value===!0?" q-tree--dark":"")+(n.color!==void 0?` text-${n.color}`:"")),G=B(()=>n.selected!==void 0),V=B(()=>n.icon||d.iconSet.tree.icon),P=B(()=>n.controlColor||n.color),x=B(()=>n.textColor!==void 0?` text-${n.textColor}`:""),S=B(()=>{const l=n.selectedColor||n.color;return l?` text-${l}`:""}),L=B(()=>n.filterMethod!==void 0?n.filterMethod:(l,a)=>{const e=a.toLowerCase();return l[n.labelKey]&&l[n.labelKey].toLowerCase().indexOf(e)!==-1}),h=B(()=>{const l={},a=(e,t)=>{const s=e.tickStrategy||(t?t.tickStrategy:n.tickStrategy),v=e[n.nodeKey],g=e[n.childrenKey]&&Array.isArray(e[n.childrenKey])&&e[n.childrenKey].length!==0,Y=e.disabled!==!0&&G.value===!0&&e.selectable!==!1,$=e.disabled!==!0&&e.expandable!==!1,Be=s!=="none",ge=s==="strict",Se=s==="leaf-filtered",qe=s==="leaf"||s==="leaf-filtered";let Ce=e.disabled!==!0&&e.tickable!==!1;qe===!0&&Ce===!0&&t&&t.tickable!==!0&&(Ce=!1);let ee=e.lazy;ee===!0&&C.value[v]!==void 0&&Array.isArray(e[n.childrenKey])===!0&&(ee=C.value[v]);const c={key:v,parent:t,isParent:g,lazy:ee,disabled:e.disabled,link:e.disabled!==!0&&(Y===!0||$===!0&&(g===!0||ee===!0)),children:[],matchesFilter:n.filter?L.value(e,n.filter):!0,selected:v===n.selected&&Y===!0,selectable:Y,expanded:g===!0?E.value.includes(v):!1,expandable:$,noTick:e.noTick===!0||ge!==!0&&ee&&ee!=="loaded",tickable:Ce,tickStrategy:s,hasTicking:Be,strictTicking:ge,leafFilteredTicking:Se,leafTicking:qe,ticked:ge===!0?T.value.includes(v):g===!0?!1:T.value.includes(v)};if(l[v]=c,g===!0&&(c.children=e[n.childrenKey].map(y=>a(y,c)),n.filter&&(c.matchesFilter!==!0?c.matchesFilter=c.children.some(y=>y.matchesFilter):c.noTick!==!0&&c.disabled!==!0&&c.tickable===!0&&Se===!0&&c.children.every(y=>y.matchesFilter!==!0||y.noTick===!0||y.tickable!==!0)===!0&&(c.tickable=!1)),c.matchesFilter===!0&&(c.noTick!==!0&&ge!==!0&&c.children.every(y=>y.noTick)===!0&&(c.noTick=!0),qe))){if(c.ticked=!1,c.indeterminate=c.children.some(y=>y.indeterminate===!0),c.tickable=c.tickable===!0&&c.children.some(y=>y.tickable),c.indeterminate!==!0){const y=c.children.reduce(($e,De)=>De.ticked===!0?$e+1:$e,0);y===c.children.length?c.ticked=!0:y>0&&(c.indeterminate=!0)}c.indeterminate===!0&&(c.indeterminateNextState=c.children.every(y=>y.tickable!==!0||y.ticked!==!0))}return c};return n.nodes.forEach(e=>a(e,null)),l});ye(()=>n.ticked,l=>{T.value=l}),ye(()=>n.expanded,l=>{E.value=l});function N(l){const a=[].reduce,e=(t,s)=>{if(t||!s)return t;if(Array.isArray(s)===!0)return a.call(Object(s),e,t);if(s[n.nodeKey]===l)return s;if(s[n.childrenKey])return e(null,s[n.childrenKey])};return e(null,n.nodes)}function q(){return T.value.map(l=>N(l))}function H(){return E.value.map(l=>N(l))}function J(l){return l&&h.value[l]?h.value[l].expanded:!1}function te(){n.expanded!==void 0?K("update:expanded",[]):E.value=[]}function Z(){const l=[],a=e=>{e[n.childrenKey]&&e[n.childrenKey].length!==0&&e.expandable!==!1&&e.disabled!==!0&&(l.push(e[n.nodeKey]),e[n.childrenKey].forEach(a))};n.nodes.forEach(a),n.expanded!==void 0?K("update:expanded",l):E.value=l}function z(l,a,e=N(l),t=h.value[l]){if(t.lazy&&t.lazy!=="loaded"){if(t.lazy==="loading")return;C.value[l]="loading",Array.isArray(e[n.childrenKey])!==!0&&(e[n.childrenKey]=[]),K("lazyLoad",{node:e,key:l,done:s=>{C.value[l]="loaded",e[n.childrenKey]=Array.isArray(s)===!0?s:[],Ze(()=>{h.value[l]?.isParent===!0&&r(l,!0)})},fail:()=>{delete C.value[l],e[n.childrenKey].length===0&&delete e[n.childrenKey]}})}else t.isParent===!0&&t.expandable===!0&&r(l,a)}function r(l,a){let e=E.value;const t=n.expanded!==void 0;if(t===!0&&(e=e.slice()),a){if(n.accordion&&h.value[l]){const s=[];h.value[l].parent?h.value[l].parent.children.forEach(v=>{v.key!==l&&v.expandable===!0&&s.push(v.key)}):n.nodes.forEach(v=>{const g=v[n.nodeKey];g!==l&&s.push(g)}),s.length!==0&&(e=e.filter(v=>s.includes(v)===!1))}e=e.concat([l]).filter((s,v,g)=>g.indexOf(s)===v)}else e=e.filter(s=>s!==l);t===!0?K("update:expanded",e):E.value=e}function f(l){return l&&h.value[l]?h.value[l].ticked:!1}function W(l,a){let e=T.value;const t=n.ticked!==void 0;t===!0&&(e=e.slice()),a?e=e.concat(l).filter((s,v,g)=>g.indexOf(s)===v):e=e.filter(s=>l.includes(s)===!1),t===!0&&K("update:ticked",e)}function fe(l,a,e){const t={tree:_,node:l,key:e,color:n.color,dark:D.value};return Te(t,"expanded",()=>a.expanded,s=>{s!==a.expanded&&z(e,s)}),Te(t,"ticked",()=>a.ticked,s=>{s!==a.ticked&&W([e],s)}),t}function ve(l){return(n.filter?l.filter(a=>h.value[a[n.nodeKey]].matchesFilter):l).map(a=>xe(a))}function ne(l){if(l.icon!==void 0)return k(ce,{class:"q-tree__icon q-mr-sm",name:l.icon,color:l.iconColor});const a=l.img||l.avatar;if(a)return k("img",{class:`q-tree__${l.img?"img":"avatar"} q-mr-sm`,src:a})}function he(){K("afterShow")}function ke(){K("afterHide")}function xe(l){const a=l[n.nodeKey],e=h.value[a],t=l.header&&m[`header-${l.header}`]||m["default-header"],s=e.isParent===!0?ve(l[n.childrenKey]):[],v=s.length!==0||e.lazy&&e.lazy!=="loaded";let g=l.body&&m[`body-${l.body}`]||m["default-body"];const Y=t!==void 0||g!==void 0?fe(l,e,a):null;return g!==void 0&&(g=k("div",{class:"q-tree__node-body relative-position"},[k("div",{class:x.value},[g(Y)])])),k("div",{key:a,class:`q-tree__node relative-position q-tree__node--${v===!0?"parent":"child"}`},[k("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(e.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(e.selected===!0?" q-tree__node--selected":"")+(e.disabled===!0?" q-tree__node--disabled":""),tabindex:e.link===!0?0:-1,ariaExpanded:s.length>0?e.expanded:null,role:"treeitem",onClick:$=>{_e(l,e,$)},onKeypress($){We($)!==!0&&($.keyCode===13?_e(l,e,$,!0):$.keyCode===32&&ie(l,e,$,!0))}},[k("div",{class:"q-focus-helper",tabindex:-1,ref:$=>{A[e.key]=$}}),e.lazy==="loading"?k(Xe,{class:"q-tree__spinner",color:P.value}):v===!0?k(ce,{class:"q-tree__arrow"+(e.expanded===!0?" q-tree__arrow--rotate":""),name:V.value,onClick($){ie(l,e,$)}}):null,e.hasTicking===!0&&e.noTick!==!0?k(Ye,{class:"q-tree__tickbox",modelValue:e.indeterminate===!0?null:e.ticked,color:P.value,dark:D.value,dense:!0,keepColor:!0,disable:e.tickable!==!0,onKeydown:Qe,"onUpdate:modelValue":$=>{be(e,$)}}):null,k("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(e.selected===!0?S.value:x.value)},[t?t(Y):[ne(l),k("div",l[n.labelKey])]])]),v===!0?n.noTransition===!0?e.expanded===!0?k("div",{class:"q-tree__node-collapsible"+x.value,key:`${a}__q`},[g,k("div",{class:"q-tree__children"+(e.disabled===!0?" q-tree__node--disabled":""),role:"group"},s)]):null:k(ul,{duration:n.duration,onShow:he,onHide:ke},()=>Ie(k("div",{class:"q-tree__node-collapsible"+x.value,key:`${a}__q`},[g,k("div",{class:"q-tree__children"+(e.disabled===!0?" q-tree__node--disabled":""),role:"group"},s)]),[[el,e.expanded]])):g])}function me(l){A[l]?.focus()}function _e(l,a,e,t){t!==!0&&a.selectable!==!1&&me(a.key),G.value&&a.selectable?n.noSelectionUnset===!1?K("update:selected",a.key!==n.selected?a.key:null):a.key!==n.selected&&K("update:selected",a.key===void 0?null:a.key):ie(l,a,e,t),typeof l.handler=="function"&&l.handler(l)}function ie(l,a,e,t){e!==void 0&&Qe(e),t!==!0&&a.selectable!==!1&&me(a.key),z(a.key,!a.expanded,l,a)}function be(l,a){if(l.indeterminate===!0&&(a=l.indeterminateNextState),l.strictTicking)W([l.key],a);else if(l.leafTicking){const e=[],t=s=>{s.isParent?(a!==!0&&s.noTick!==!0&&s.tickable===!0&&e.push(s.key),s.leafTicking===!0&&s.children.forEach(t)):s.noTick!==!0&&s.tickable===!0&&(s.leafFilteredTicking!==!0||s.matchesFilter===!0)&&e.push(s.key)};t(l),W(e,a)}}return n.defaultExpandAll===!0&&Z(),Object.assign(_,{getNodeByKey:N,getTickedNodes:q,getExpandedNodes:H,isExpanded:J,collapseAll:te,expandAll:Z,setExpanded:z,isTicked:f,setTicked:W}),()=>{const l=ve(n.nodes);return k("div",{class:w.value,role:"tree"},l.length===0?n.filter?n.noResultsLabel||d.lang.tree.noResults:n.noNodesLabel||d.lang.tree.noNodes:l)}}}),yl={class:"row full-width items-center"},pl={class:"col-auto"},hl={class:"col text-right"},kl={__name:"tareaDetalleFormComponent",props:{parent:{type:Number,required:!1,default:null}},emits:["form-action"],setup(n,{emit:m}){const{successNotify:K,errorNotify:_}=Pe(),{t:d}=Fe(),D=u("tarea_detalles"),C=u(!1),T=u("update"),E=u("las la-plus-circle"),A=n,w=u(null);w.value=A.parent;const G=m,V=u(null),P=u(null),x=u(null),S=u(""),L=u(""),h=u(null),N=u(null),q=u(null),H=u(null),J=u(null),te=async()=>{try{if(!w.value)return _("No existe el identificador"),!1;const z=await j(D.value).getById(w.value),r=z.data;V.value=r.id_usuario,P.value=r.id_categoria,x.value=r.id_prioridad,S.value=r.name,L.value=r.detalle,h.value=X(r.fecha_inicio),N.value=X(r.fecha_limite),N.value=X(r.fecha_limite),q.value=r.id_estado,H.value=X(r.created_at),J.value=r.id_user_create,E.value="las la-edit",T.value="update",console.log("Success...",z)}catch(z){console.log("Error...",z),_(z.message)}},Z=async()=>{const z={id_usuario:V.value,id_categoria:P.value,id_prioridad:x.value,name:S.value,detalle:L.value,fecha_inicio:Ae(h.value),fecha_limite:Ae(N.value),id_estado:q.value,id_tarea:A.parent};if(T.value=="update"){w.value||_("No existe el identificador");try{C.value=!0;const r=await j(`${D.value}/${w.value}`).update(z);K(r.message),T.value="update",w.value=r.data.id;const f={action_type:T.value,actionId:w.value};G("form-action",f)}catch(r){r.details?r.details.forEach(f=>{_(f)}):_(r.message)}finally{C.value=!1}}else _("Ninguna acción seleccionada!")};return Ue(()=>{te()}),(z,r)=>(Q(),de(Ve,null,[i(ae,{class:"q-ma-none"},{default:o(()=>[i(ze,null,{default:o(()=>[i(vl,{onSubmit:Z},{default:o(()=>[i(ae,null,{default:o(()=>[i(ze,{class:"row q-col-gutter-x-lg"},{default:o(()=>[i(le,{label:p(d)("form.user"),modelValue:V.value,"onUpdate:modelValue":r[0]||(r[0]=f=>V.value=f),rules:"integer|required",api:"usuarios",class:"col-md-6 col-lg-6"},null,8,["label","modelValue"]),i(le,{label:p(d)("form.category"),modelValue:P.value,"onUpdate:modelValue":r[1]||(r[1]=f=>P.value=f),rules:"integer|required",api:"tarea_categorias"},null,8,["label","modelValue"]),i(cl,{label:p(d)("form.name"),modelValue:S.value,"onUpdate:modelValue":r[2]||(r[2]=f=>S.value=f),rules:"max:70|required"},null,8,["label","modelValue"]),i(we,{label:p(d)("form.start"),modelValue:h.value,"onUpdate:modelValue":r[3]||(r[3]=f=>h.value=f),rules:"required",class:"col-md-3 col-lg-3"},null,8,["label","modelValue"]),i(ml,{label:p(d)("form.detail"),modelValue:L.value,"onUpdate:modelValue":r[4]||(r[4]=f=>L.value=f),rules:"max:700",class:"col-md-6 col-lg-6"},null,8,["label","modelValue"]),i(we,{label:p(d)("form.limit"),modelValue:N.value,"onUpdate:modelValue":r[5]||(r[5]=f=>N.value=f),rules:"required",class:"col-md-3 col-lg-23"},null,8,["label","modelValue"]),i(le,{label:p(d)("form.priority"),modelValue:x.value,"onUpdate:modelValue":r[6]||(r[6]=f=>x.value=f),rules:"integer|required",api:"estados_prioridad"},null,8,["label","modelValue"]),i(le,{label:p(d)("form.status"),modelValue:q.value,"onUpdate:modelValue":r[7]||(r[7]=f=>q.value=f),rules:"integer",api:"estados_tarea"},null,8,["label","modelValue"]),i(we,{label:p(d)("form.created_date"),modelValue:H.value,"onUpdate:modelValue":r[8]||(r[8]=f=>H.value=f),rules:"disabled",class:"col-md-3 col-lg-23"},null,8,["label","modelValue"]),i(le,{label:p(d)("form.created_user"),modelValue:J.value,"onUpdate:modelValue":r[9]||(r[9]=f=>J.value=f),rules:"integer|disabled",api:"usuarios"},null,8,["label","modelValue"])]),_:1}),i(ll,{class:"q-pt-md"},{default:o(()=>[I("div",yl,[r[11]||(r[11]=I("div",{class:"col"},null,-1)),I("div",pl,[i(pe,{label:"Guardar",type:"submit",color:"positive",icon:"las la-save",dense:"",outline:""})]),I("div",hl,[i(pe,{label:"",color:"negative",icon:"las la-trash-alt",dense:"",flat:"",onClick:r[10]||(r[10]=f=>z.buttonDelete(w.value))},{default:o(()=>[i(O,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[b(F(p(d)("button.delete")),1)]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(Ne,{showing:C.value,label:p(d)("loading"),"label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing","label"])],64))}},xl={class:"row"},ql={class:"col"},Cl={class:"q-gutter-none q-px-md"},wl=["onClick"],Vl=["onClick"],Sl={style:{width:"180px",flex:"0 0 180px"},class:"q-gutter-y-sm q-ml-sm sidebar-right"},$l={class:"q-gutter-none q-pa-xs"},Ql={class:"q-gutter-none q-pa-xs"},Tl={class:"q-gutter-none q-px-md q-py-xs"},zl=["src"],Kl={class:"q-pa-xs"},El={__name:"IndexPage",setup(n){const{t:m}=Fe(),{successNotify:K,errorNotify:_}=Pe(),d=u(!1),D=u("tareas"),C=u("insert"),T=u(!1),E=u(!1),A=u(null),w=u("las la-plus-circle"),G="https://api.ourspace.ggrosio.com",V=u(null),P=u(null),x=u(""),S={},L=u([]),h=B(()=>[{label:"",name:"prioridad",slot:"semaforo",hidden:!0,align:"center",width:"10"},{label:m("table.title"),name:"name",link:"id",slot:"acciones"},{label:m("table.responsible"),name:"responsable"},{label:m("table.entity"),name:"categoria"},{label:m("table.start"),name:"fecha_inicio",align:"center"},{label:m("table.status"),name:"estado",align:"center"},{label:m("table.limit"),name:"fecha_limite",align:"center"},{label:m("table.end"),name:"fecha_fin",align:"center"},{label:"Tipo",name:"tipo",align:"center"},{label:m("table.accept_question"),name:"id",slot:"aceptar",hidden:!0,align:"center"}]),N=u(0),q=async()=>{try{d.value=!0,x.value!=""&&(S.search=x.value);const a=await j(`/${D.value}/mis`).list(S);L.value=a.data.map(e=>({...e,fecha_inicio:X(e.fecha_inicio),fecha_limite:X(e.fecha_limite),fecha_fin:X(e.fecha_fin)}))}catch(a){console.log("Error...",a),_(a.message)}finally{d.value=!1}},H=async a=>{S.search=a.search.trim()??"",await q()};ye(V,a=>{S.id_prioridad=a||null,q()}),ye(P,a=>{S.id_estado=a||null,q()});const J=async()=>{V.value=null,P.value=null,x.value="",S.search="",S.id_prioridad=null,S.id_estado=null,N.value++,await q()},te=B(()=>!!V.value||!!P.value||x.value&&x.value.trim()!==""),Z=u([]),z=async()=>{try{d.value=!0,x.value!=""&&(S.search=x.value);const a=await j("/usuarios/cumples/").list();Z.value=a.data,console.log(a.data)}catch(a){console.log("Error...",a),_(a.message)}finally{d.value=!1}},r=u(["Satisfied customers (with avatar)","Good food (with icon)"]),f=[{label:"Plantillas",icon:"las la-folder-open",children:[{label:"Excel",icon:"las la-file-excel",disabled:!0,children:[{label:"Quality ingredients"},{label:"Good recipe"}]},{label:"Dox",icon:"las la-file-word",disabled:!0,children:[{label:"Prompt attention"},{label:"Professional waiter"}]},{label:"Pdf",icon:"las la-file-pdf",disabled:!0,children:[{label:"Happy atmosphere (with image)",img:"https://cdn.quasar.dev/img/logo_calendar_128px.png"},{label:"Good table presentation"},{label:"Pleasing decor"}]}]}],W=u(""),fe=u(""),ve=u(""),ne=u(""),he=async()=>{try{d.value=!0;const a=await j("/usuarios/info").getById(0);W.value=a.data.name,fe.value=a.data.cargo,ve.value=a.data.pais,ne.value=a.data.pais_bandera}catch(a){console.log("Error...",a)}finally{d.value=!1}},ke=u({button_add:!0,button_edit:!0,button_delete:!1,button_detail:!0,hidden_pagination:!1,button_pagination_custom:!0}),xe=async a=>{console.log(a),E.value=!1,await q()},me=async a=>{try{if(!a)return _("Registro no enconttrado"),!1;T.value=!0,C.value="update",w.value="las la-edit",A.value=a}catch(e){console.log("Error...",e),q(),_(e.message)}},_e=async a=>{try{if(!a)return _("Registro no enconttrado"),!1;E.value=!0,C.value="update",w.value="las la-edit",A.value=a}catch(e){console.log("Error...",e),q(),_(e.message)}},ie=async a=>{if(!a)return _("Registro no enconttrado"),!1;try{const e={id:a};d.value=!0;const t=await j(`/copy/${D.value}`).post(e);T.value=!0,C.value="update",w.value="las la-edit",A.value=t.data.id,await q()}catch(e){_(e.message)}finally{d.value=!1}},be=u({}),l=async(a,e)=>{if(be.value[a]=a,!a)return _("Registro no enconttrado"),!1;try{const t={};if(d.value=!0,e==="tarea"){const s=await j(`/tareas/aceptar/${a}`).update(t);K(s.message)}else if(e==="subtarea"){const s=await j(`/tarea_detalles/aceptar/${a}`).update(t);K(s.message)}else _("Acción inválida");await q()}catch(t){_(t.message)}finally{d.value=!1}};return Ue(()=>{q(),z(),he()}),(a,e)=>(Q(),de(Ve,null,[d.value?M("",!0):(Q(),U(dl,{key:0,class:"q-px-sm q-pt-lg"},{default:o(()=>[I("div",xl,[I("div",ql,[(Q(),U(rl,{title:"Mis tareas",key:N.value,columns:h.value,rows:L.value,default_action:ke.value,onSearch:H},{header:o(()=>e[8]||(e[8]=[])),header_right:o(()=>[te.value?(Q(),U(pe,{key:0,icon:"las la-undo-alt",class:"q-mx-sm",flat:"",round:"",size:"sm",onClick:e[0]||(e[0]=t=>J())},{default:o(()=>[i(O,{class:"bg-default",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[b(F(p(m)("button.clear_filter")),1)]),_:1})]),_:1})):M("",!0),i(le,{label:p(m)("form.status"),modelValue:P.value,"onUpdate:modelValue":e[1]||(e[1]=t=>P.value=t),api:"estados_tarea"},null,8,["label","modelValue"]),I("div",Cl,[i(re,{"keep-color":"",modelValue:V.value,"onUpdate:modelValue":e[2]||(e[2]=t=>V.value=t),"checked-icon":"check_circle","unchecked-icon":"circle",val:"2",color:"red",size:"xs",dense:""},{default:o(()=>[i(O,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>e[9]||(e[9]=[b("Alta")])),_:1,__:[9]})]),_:1},8,["modelValue"]),i(re,{"keep-color":"",modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=t=>V.value=t),"checked-icon":"check_circle","unchecked-icon":"circle",val:"3",color:"yellow",size:"xs",dense:""},{default:o(()=>[i(O,{class:"bg-yellow text-black",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>e[10]||(e[10]=[b("Media")])),_:1,__:[10]})]),_:1},8,["modelValue"]),i(re,{"keep-color":"",modelValue:V.value,"onUpdate:modelValue":e[4]||(e[4]=t=>V.value=t),"checked-icon":"check_circle","unchecked-icon":"circle",val:"1",color:"green",size:"xs",dense:""},{default:o(()=>[i(O,{class:"bg-green",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>e[11]||(e[11]=[b("Baja")])),_:1,__:[11]})]),_:1},8,["modelValue"])])]),body:o(({row:t})=>[i(pe,{icon:"las la-lock",color:"red",size:"sm",onClick:s=>a.permisos(t),rounded:"",flat:""},{default:o(()=>[i(O,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>e[12]||(e[12]=[b("Permisos")])),_:1,__:[12]})]),_:2},1032,["onClick"])]),id:o(({row:t})=>[t.tipo==="tarea"?(Q(),de("a",{key:0,onClick:s=>me(t.id),class:"link_animate cursor-pointer"},F(t.name),9,wl)):M("",!0),t.tipo==="subtarea"?(Q(),de("a",{key:1,onClick:s=>_e(t.id),class:"link_animate cursor-pointer"},F(t.name),9,Vl)):M("",!0)]),semaforo:o(({row:t})=>[t.prioridad?(Q(),U(ce,{key:0,name:"circle",color:t.color},{default:o(()=>[i(O,{class:al(`bg-${t.color}`),offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[b(F(t.prioridad),1)]),_:2},1032,["class"])]),_:2},1032,["color"])):M("",!0)]),acciones:o(({row:t})=>[i(il,{color:"secondary",size:"sm",round:"",flat:"",dense:"","dropdown-icon":"las la-ellipsis-v","menu-anchor":"top right","menu-self":"top left","auto-close":!0},{default:o(()=>[i(Le,{class:"custon_list_before",dense:""},{default:o(()=>[Ie((Q(),U(Me,{clickable:"",onClick:s=>ie(t.id)},{default:o(()=>[i(se,null,{default:o(()=>[i(oe,null,{default:o(()=>[i(ce,{name:"las la-copy",size:"sm",color:"primary"}),b(" "+F(p(m)("button.duplicate")),1)]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[Re]])]),_:2},1024)]),_:2},1024)]),aceptar:o(({row:t})=>[t.id_aceptar==1?(Q(),U(re,{key:0,"checked-icon":"task_alt",disable:"",size:"xs",color:"green"})):(Q(),U(re,{key:1,"v-model":be.value[t.id],val:"1",onClick:s=>l(t.id,t.tipo),size:"xs",color:"grey"},{default:o(()=>[i(O,{class:"bg-grey",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[b(F(p(m)("button.accept")),1)]),_:1})]),_:2},1032,["v-model","onClick"]))]),_:1},8,["columns","rows","default_action"])),T.value?(Q(),U(Ee,{key:0,title:"Tarea",icon:w.value,onClose:e[5]||(e[5]=t=>T.value=!1),size:"lg",maximized:!1},{default:o(()=>[i(_l,{parent:A.value,parent_action:C.value},null,8,["parent","parent_action"]),C.value==="update"?(Q(),U(sl,{key:0,dense:"","default-opened":"",label:p(m)("group"),icon:"las la-user-friends",class:"text-grey-9 q-mt-sm","header-class":"text-grey-6"},{default:o(()=>[i(fl,{parent:A.value},null,8,["parent"])]),_:1},8,["label"])):M("",!0)]),_:1},8,["icon"])):M("",!0),E.value?(Q(),U(Ee,{key:1,title:"Tarea detalle",icon:w.value,onClose:e[6]||(e[6]=t=>E.value=!1),size:"lg",maximized:!1},{default:o(()=>[i(kl,{parent:A.value,parent_action:C.value,onFormAction:xe},null,8,["parent","parent_action"])]),_:1},8,["icon"])):M("",!0)]),I("div",Sl,[i(ae,{flat:"",bordered:"",class:"my-card"},{default:o(()=>[i(se,{class:"q-pa-sm text-center"},{default:o(()=>[i(oe,null,{default:o(()=>e[13]||(e[13]=[b("Perfil")])),_:1,__:[13]})]),_:1}),i(ue),I("div",$l,[i(R,null,{default:o(()=>[i(Ke,{src:`${p(G)}/${ne.value}`,"spinner-color":"white",style:{height:"auto",width:"18px"}},null,8,["src"]),b("   "+F(W.value),1)]),_:1}),i(R,{size:"sm"},{default:o(()=>[b(F(fe.value),1)]),_:1})])]),_:1}),i(ae,{flat:"",bordered:"",class:"my-card"},{default:o(()=>[i(se,{class:"q-pa-sm text-center"},{default:o(()=>[i(oe,null,{default:o(()=>e[14]||(e[14]=[b("Responsables")])),_:1,__:[14]})]),_:1}),i(ue),I("div",Ql,[i(R,null,{default:o(()=>[i(Ke,{src:`${p(G)}/${ne.value}`,"spinner-color":"white",style:{height:"auto",width:"18px"}},null,8,["src"]),e[15]||(e[15]=b("  José "))]),_:1,__:[15]}),i(R,{size:"sm"},{default:o(()=>e[16]||(e[16]=[b(" Jefe de Operaciones ")])),_:1,__:[16]}),i(ue),i(R,null,{default:o(()=>[i(ce,{name:"language",size:"xs"}),e[17]||(e[17]=b("   Péricles "))]),_:1,__:[17]}),i(R,{size:"sm"},{default:o(()=>e[18]||(e[18]=[b(" Founder CEO & General Manager ")])),_:1,__:[18]})])]),_:1}),i(ae,{flat:"",bordered:"",class:"my-card"},{default:o(()=>[i(se,{class:"q-pa-sm text-center"},{default:o(()=>[i(oe,null,{default:o(()=>e[19]||(e[19]=[b("Cumpleaños")])),_:1,__:[19]})]),_:1}),i(ue),I("div",Tl,[(Q(!0),de(Ve,null,tl(Z.value,t=>(Q(),U(R,{class:"full-width",key:t.name},{default:o(()=>[i(nl,null,{default:o(()=>[I("img",{src:t.foto},null,8,zl)]),_:2},1024),b(" "+F(t.nombres)+" ",1),i(R,{size:"sm",class:"q-ml-auto"},{default:o(()=>[b(F(t.fecha_nacimiento_md),1)]),_:2},1024)]),_:2},1024))),128))])]),_:1}),i(ae,{flat:"",bordered:"",class:"my-card"},{default:o(()=>[i(se,{class:"q-pa-sm text-center"},{default:o(()=>[i(oe,null,{default:o(()=>e[20]||(e[20]=[b("Documentos")])),_:1,__:[20]})]),_:1}),i(ue),I("div",Kl,[i(gl,{nodes:f,dense:"","node-key":"label",expanded:r.value,"onUpdate:expanded":e[7]||(e[7]=t=>r.value=t)},null,8,["expanded"])])]),_:1})])])]),_:1})),i(Ne,{showing:d.value,label:"Cargando...","label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing"])],64))}},Xl=ol(El,[["__scopeId","data-v-bdc74b7c"]]);export{Xl as default};
