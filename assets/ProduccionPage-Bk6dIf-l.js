import{u as J,a as O,c as Z,d as ee,e as ae,f as te,C as le,Q as M,b as ne}from"./notifyHooks-DTCs8dSN.js";import{a2 as $,a7 as c,af as U,a4 as E,r as g,e as _,Z as h,y as W,ak as oe,al as se,am as D,an as Y,ao as re,a3 as ie,a5 as ue,ap as de,aj as ce,ai as me,i as j,o as T,w as l,a as t,x as z,j as r,Q as V,s as k,g as pe,v as ve,c as fe,b as _e,n as ge,t as K,F as be}from"./index-DhVY4AOr.js";import{Q as Ce}from"./QBtnDropdown-fPiSFeZG.js";import{Q as ye}from"./QPage-C9SVU1xd.js";import{_ as qe,P as Se}from"./PopupComponent-BMoTzUKP.js";import{Q as F,a as S}from"./QTabs-qtIIcNk0.js";import{Q as A,a as y}from"./QTabPanels-BP3LM9Fb.js";import{Q as xe}from"./QSlideTransition-DTNjs9-t.js";import{u as Pe,a as he,b as Ve,c as ke}from"./use-panel-CdId_k0j.js";import{c as we}from"./use-render-cache-7gfEi9oV.js";import"./use-quasar-2VkCt5Th.js";import"./vue-i18n.runtime-mEmbPDrt.js";import"./touch-BjYP5sR0.js";const B=$({name:"QStepperNavigation",setup(a,{slots:o}){return()=>c("div",{class:"q-stepper__nav"},U(o.default))}}),G=$({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(a,{attrs:o}){const{proxy:{$q:m}}=E(),v=g(null),u=_(()=>a.stepper.modelValue===a.step.name),p=_(()=>{const s=a.step.disable;return s===!0||s===""}),f=_(()=>{const s=a.step.error;return s===!0||s===""}),e=_(()=>{const s=a.step.done;return p.value===!1&&(s===!0||s==="")}),i=_(()=>{const s=a.step.headerNav,n=s===!0||s===""||s===void 0;return p.value===!1&&a.stepper.headerNav&&n}),P=_(()=>a.step.prefix&&(u.value===!1||a.stepper.activeIcon==="none")&&(f.value===!1||a.stepper.errorIcon==="none")&&(e.value===!1||a.stepper.doneIcon==="none")),b=_(()=>{const s=a.step.icon||a.stepper.inactiveIcon;if(u.value===!0){const n=a.step.activeIcon||a.stepper.activeIcon;return n==="none"?s:n||m.iconSet.stepper.active}if(f.value===!0){const n=a.step.errorIcon||a.stepper.errorIcon;return n==="none"?s:n||m.iconSet.stepper.error}if(p.value===!1&&e.value===!0){const n=a.step.doneIcon||a.stepper.doneIcon;return n==="none"?s:n||m.iconSet.stepper.done}return s}),C=_(()=>{const s=f.value===!0?a.step.errorColor||a.stepper.errorColor:void 0;if(u.value===!0){const n=a.step.activeColor||a.stepper.activeColor||a.step.color;return n!==void 0?n:s}return s!==void 0?s:p.value===!1&&e.value===!0?a.step.doneColor||a.stepper.doneColor||a.step.color||a.stepper.inactiveColor:a.step.color||a.stepper.inactiveColor}),x=_(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(C.value!==void 0?` text-${C.value}`:"")+(f.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(P.value===!0?"prefix":"icon"):"")+(u.value===!0?" q-stepper__tab--active":"")+(e.value===!0?" q-stepper__tab--done":"")+(i.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(p.value===!0?" q-stepper__tab--disabled":"")),w=_(()=>a.stepper.headerNav!==!0?!1:i.value);function Q(){v.value?.focus(),u.value===!1&&a.goToPanel(a.step.name)}function I(s){s.keyCode===13&&u.value===!1&&a.goToPanel(a.step.name)}return()=>{const s={class:x.value};i.value===!0&&(s.onClick=Q,s.onKeyup=I,Object.assign(s,p.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:o.tabindex||0}));const n=[c("div",{class:"q-focus-helper",tabindex:-1,ref:v}),c("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[c("span",{class:"row flex-center"},[P.value===!0?a.step.prefix:c(h,{name:b.value})])])];if(a.step.title!==void 0&&a.step.title!==null){const d=[c("div",{class:"q-stepper__title"},a.step.title)];a.step.caption!==void 0&&a.step.caption!==null&&d.push(c("div",{class:"q-stepper__caption"},a.step.caption)),n.push(c("div",{class:"q-stepper__label q-stepper__line relative-position"},d))}return W(c("div",s,n),[[oe,w.value]])}}});function X(a){return c("div",{class:"q-stepper__step-content"},[c("div",{class:"q-stepper__step-inner"},U(a.default))])}const L={setup(a,{slots:o}){return()=>X(o)}},N=$({name:"QStep",props:{...Pe,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(a,{slots:o,emit:m}){const{proxy:{$q:v}}=E(),u=se(Y,D);if(u===D)return console.error("QStep needs to be a child of QStepper"),D;const{getCache:p}=we(),f=g(null),e=_(()=>u.value.modelValue===a.name),i=_(()=>v.platform.is.ios!==!0&&v.platform.is.chrome===!0||e.value!==!0||u.value.vertical!==!0?{}:{onScroll(C){const{target:x}=C;x.scrollTop>0&&(x.scrollTop=0),a.onScroll!==void 0&&m("scroll",C)}}),P=_(()=>typeof a.name=="string"||typeof a.name=="number"?a.name:String(a.name));function b(){const C=u.value.vertical;return C===!0&&u.value.keepAlive===!0?c(re,u.value.keepAliveProps.value,e.value===!0?[c(u.value.needsUniqueKeepAliveWrapper.value===!0?p(P.value,()=>({...L,name:P.value})):L,{key:P.value},o.default)]:void 0):C!==!0||e.value===!0?X(o):void 0}return()=>c("div",{ref:f,class:"q-stepper__step",role:"tabpanel",...i.value},u.value.vertical===!0?[c(G,{stepper:u.value,step:a,goToPanel:u.value.goToPanel}),u.value.animated===!0?c(xe,b):b()]:[b()])}}),Qe=/(-\w)/g;function Ie(a){const o={};for(const m in a){const v=m.replace(Qe,u=>u[1].toUpperCase());o[v]=a[m]}return o}const ze=$({name:"QStepper",props:{...ie,...Ve,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:he,setup(a,{slots:o}){const m=E(),v=ue(a,m.proxy.$q),{updatePanelsList:u,isValidPanelName:p,updatePanelIndex:f,getPanelContent:e,getPanels:i,panelDirectives:P,goToPanel:b,keepAliveProps:C,needsUniqueKeepAliveWrapper:x}=ke();de(Y,_(()=>({goToPanel:b,keepAliveProps:C,needsUniqueKeepAliveWrapper:x,...a})));const w=_(()=>`q-stepper q-stepper--${a.vertical===!0?"vertical":"horizontal"}`+(a.flat===!0?" q-stepper--flat":"")+(a.bordered===!0?" q-stepper--bordered":"")+(v.value===!0?" q-stepper--dark q-dark":"")),Q=_(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${a.alternativeLabels===!0?"alternative":"standard"}-labels`+(a.flat===!1||a.bordered===!0?" q-stepper__header--border":"")+(a.contracted===!0?" q-stepper__header--contracted":"")+(a.headerClass!==void 0?` ${a.headerClass}`:""));function I(){const s=U(o.message,[]);if(a.vertical===!0){p(a.modelValue)&&f();const n=c("div",{class:"q-stepper__content"},U(o.default));return s===void 0?[n]:s.concat(n)}return[c("div",{class:Q.value},i().map(n=>{const d=Ie(n.props);return c(G,{key:d.name,stepper:a,step:d,goToPanel:b})})),s,me("div",{class:"q-stepper__content q-panel-parent"},e(),"cont",a.swipeable,()=>P.value)]}return()=>(u(o),c("div",{class:w.value},ce(o.navigation,I())))}}),Fe="/assets/madre-BvJMkZIh.jpg",Ae="/assets/ficha_compra-Cz5Uljyl.png",Be="/assets/fases-CMMgrete.png",Ne="/assets/ficha_servicios-B8Twg8Xj.png",Te="/assets/costos-C5-uA1aI.png",Ue="/assets/ficha_entrega-16XUBWu_.png",$e="/assets/administracion-ChxkETjc.png",De="/assets/disenio-aViQRcoG.jpg",je={class:"row full-width items-center"},Ee={class:"col-auto"},Re={class:"row full-width items-center"},Me={class:"col-auto"},Ke={class:"row full-width items-center"},Le={class:"col-auto"},We={class:"row full-width items-center"},Ye={class:"col-auto"},Ge={__name:"ProgresoComponent",setup(a){const o=g(1),m=g("ficha_diseno_madre"),v=g("cronograma_produccion"),u=g("ficha_costo_unidad"),p=g("administracion");return(f,e)=>(T(),j(ze,{modelValue:o.value,"onUpdate:modelValue":e[15]||(e[15]=i=>o.value=i),"header-nav":"",ref:"stepper",color:"primary",animated:""},{default:l(()=>[t(N,{name:1,title:"Fase 1",caption:"Preproducción",icon:"settings",done:o.value>1,"header-nav":o.value>1},{default:l(()=>[t(F,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=i=>m.value=i),dense:"",class:"text-grey custom_tab","active-color":"primary",align:"left"},{default:l(()=>[t(S,{name:"ficha_diseno_madre",label:"Ficha de Diseño Madre"}),t(S,{name:"ficha_pedido_produccion",label:"Ficha Pedido Producción"}),t(S,{name:"ficha_medida_personalizada",label:"Ficha de Medidas Personalizadas"}),t(S,{name:"ficha_tecnica",label:"Ficha Técnica de Unidades"}),t(S,{name:"ficha_material",label:"Ficha de Materiales"}),t(S,{name:"ficha_compra_insumo",label:"Ficha de Compra de Insumos"})]),_:1},8,["modelValue"]),t(z),t(A,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=i=>m.value=i),animated:""},{default:l(()=>[t(y,{name:"ficha_diseno_madre"},{default:l(()=>e[16]||(e[16]=[r("img",{src:Fe,alt:"",width:"400"},null,-1)])),_:1,__:[16]}),t(y,{name:"ficha_pedido_produccion"}),t(y,{name:"ficha_medida_personalizada"},{default:l(()=>e[17]||(e[17]=[r("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv2he7zQ7pWC4h-WNG7YJKqgnBfXasBmaQVVAEYj2VA_xYrRUmrt7bdFhA1FndzIzxTj4&usqp=CAU",alt:""},null,-1)])),_:1,__:[17]}),t(y,{name:"ficha_tecnica"}),t(y,{name:"ficha_material"}),t(y,{name:"ficha_compra_insumo"},{default:l(()=>e[18]||(e[18]=[r("img",{src:Ae,alt:"",width:"600"},null,-1)])),_:1,__:[18]})]),_:1},8,["modelValue"]),t(B,null,{default:l(()=>[r("div",je,[e[21]||(e[21]=r("div",{class:"col"},null,-1)),r("div",Ee,[t(V,{onClick:e[2]||(e[2]=()=>{f.done1=!0,o.value=2}),color:"primary",dense:"",outline:""},{default:l(()=>[e[19]||(e[19]=r("label",{class:"q-ml-xs"},"Siguiente",-1)),e[20]||(e[20]=k()),t(h,{name:"las la-angle-right",size:"xs"})]),_:1,__:[19,20]})]),e[22]||(e[22]=r("div",{class:"col text-right"},null,-1))])]),_:1})]),_:1},8,["done","header-nav"]),t(N,{name:2,title:"Fase 2",caption:"Producción",icon:"create_new_folder",done:o.value>2,"header-nav":o.value>2},{default:l(()=>[t(F,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=i=>v.value=i),dense:"",class:"text-grey","active-color":"primary",align:"left"},{default:l(()=>[t(S,{name:"cronograma_produccion",label:"Cronograma de Producción"}),t(S,{name:"ficha_fases_prodecimientos",label:"Ficha de Fases y Procedimientos"}),t(S,{name:"ficha_servicios",label:"Ficha de Servicios"})]),_:1},8,["modelValue"]),t(z),t(A,{modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=i=>v.value=i),animated:""},{default:l(()=>[t(y,{name:"cronograma_produccion"},{default:l(()=>e[23]||(e[23]=[r("img",{src:"https://m.media-amazon.com/images/I/51e2sDr0f8L._AC_SY350_.jpg",alt:""},null,-1)])),_:1,__:[23]}),t(y,{name:"ficha_fases_prodecimientos"},{default:l(()=>e[24]||(e[24]=[r("img",{src:Be,alt:""},null,-1)])),_:1,__:[24]}),t(y,{name:"ficha_medida_personalizada"}),t(y,{name:"ficha_servicios"},{default:l(()=>e[25]||(e[25]=[r("img",{src:Ne,alt:"",width:"600"},null,-1)])),_:1,__:[25]})]),_:1},8,["modelValue"]),t(B,null,{default:l(()=>[r("div",Re,[e[29]||(e[29]=r("div",{class:"col"},null,-1)),r("div",Me,[t(V,{onClick:e[5]||(e[5]=i=>o.value=1),caption:"Posproducción",color:"grey",dense:"",outline:"",class:"q-mr-sm"},{default:l(()=>[t(h,{name:"las la-angle-left",size:"xs"}),e[26]||(e[26]=r("label",{class:"q-ml-xs"},"Regresar",-1))]),_:1,__:[26]}),t(V,{onClick:e[6]||(e[6]=()=>{f.done2=!0,o.value=3}),caption:"Almacen",color:"primary",dense:"",outline:""},{default:l(()=>[e[27]||(e[27]=r("label",{class:"q-ml-xs"},"Siguiente",-1)),e[28]||(e[28]=k()),t(h,{name:"las la-angle-right",size:"xs"})]),_:1,__:[27,28]})]),e[30]||(e[30]=r("div",{class:"col text-right"},null,-1))])]),_:1})]),_:1},8,["done","header-nav"]),t(N,{name:3,title:"Fase 3",caption:"Posproducción",icon:"create_new_folder",done:o.value>3,"header-nav":o.value>3},{default:l(()=>[t(F,{modelValue:u.value,"onUpdate:modelValue":e[7]||(e[7]=i=>u.value=i),dense:"",class:"text-grey","active-color":"primary",align:"left"},{default:l(()=>[t(S,{name:"ficha_costo_unidad",label:"Ficha de Costos de Unidades"}),t(S,{name:"ficha_entrega_stock",label:"Ficha de la entrega de Unidad al Stock"})]),_:1},8,["modelValue"]),t(z),t(A,{modelValue:u.value,"onUpdate:modelValue":e[8]||(e[8]=i=>u.value=i),animated:""},{default:l(()=>[t(y,{name:"ficha_costo_unidad"},{default:l(()=>e[31]||(e[31]=[r("img",{src:Te,alt:""},null,-1)])),_:1,__:[31]}),t(y,{name:"ficha_entrega_stock"},{default:l(()=>e[32]||(e[32]=[r("img",{src:Ue,alt:"",width:"600"},null,-1)])),_:1,__:[32]})]),_:1},8,["modelValue"]),t(B,null,{default:l(()=>[r("div",Ke,[e[36]||(e[36]=r("div",{class:"col"},null,-1)),r("div",Le,[t(V,{onClick:e[9]||(e[9]=i=>o.value=2),color:"grey",dense:"",outline:"",class:"q-mr-sm"},{default:l(()=>[t(h,{name:"las la-angle-left",size:"xs"}),e[33]||(e[33]=r("label",{class:"q-ml-xs"},"Regresar",-1))]),_:1,__:[33]}),t(V,{onClick:e[10]||(e[10]=()=>{f.done3=!0,o.value=4}),color:"primary",dense:"",outline:""},{default:l(()=>[e[34]||(e[34]=r("label",{class:"q-ml-xs"},"Siguiente",-1)),e[35]||(e[35]=k()),t(h,{name:"las la-angle-right",size:"xs"})]),_:1,__:[34,35]})]),e[37]||(e[37]=r("div",{class:"col text-right"},null,-1))])]),_:1})]),_:1},8,["done","header-nav"]),t(N,{name:4,title:"Fase 4",caption:"Administración / Audio visual ",icon:"photo","header-nav":o.value>4},{default:l(()=>[t(F,{modelValue:p.value,"onUpdate:modelValue":e[11]||(e[11]=i=>p.value=i),dense:"",class:"text-grey","active-color":"primary",align:"left"},{default:l(()=>[t(S,{name:"administracion",label:"Administración"}),t(S,{name:"diseno_web",label:"Diseño web"})]),_:1},8,["modelValue"]),t(z),t(A,{modelValue:p.value,"onUpdate:modelValue":e[12]||(e[12]=i=>p.value=i),animated:""},{default:l(()=>[t(y,{name:"administracion"},{default:l(()=>e[38]||(e[38]=[r("img",{src:$e,alt:""},null,-1)])),_:1,__:[38]}),t(y,{name:"diseno_web"},{default:l(()=>e[39]||(e[39]=[r("img",{src:De,alt:"",width:"500"},null,-1)])),_:1,__:[39]})]),_:1},8,["modelValue"]),t(B,null,{default:l(()=>[r("div",We,[e[42]||(e[42]=r("div",{class:"col"},null,-1)),r("div",Ye,[t(V,{onClick:e[13]||(e[13]=i=>o.value=3),color:"grey",dense:"",outline:"",class:"q-mr-sm"},{default:l(()=>[t(h,{name:"las la-angle-left",size:"xs"}),e[40]||(e[40]=r("label",{class:"q-ml-xs"},"Regresar",-1))]),_:1,__:[40]}),t(V,{onClick:e[14]||(e[14]=()=>{f.done4=!0,o.value=4}),color:"green",dense:"",outline:""},{default:l(()=>[t(h,{name:"las la-check",size:"xs",class:"q-ml-xs"}),e[41]||(e[41]=r("label",{class:"q-ml-xs"},"Finalizado",-1))]),_:1,__:[41]})]),e[43]||(e[43]=r("div",{class:"col text-right"},null,-1))])]),_:1})]),_:1},8,["header-nav"])]),_:1},8,["modelValue"]))}},Xe=["onClick"],ua={__name:"ProduccionPage",setup(a){const{errorNotify:o}=J(),m=g(!1),v=O("produccion"),u=g(""),p={},f=g([]),e=g([{label:"",name:"prioridad",slot:"semaforo",hidden:!0,align:"center"},{label:"Título",name:"name",link:"id",slot:"acciones"},{label:"Supervisor",name:"responsable"},{label:"Entidad ",name:"marca"},{label:"Inicio",name:"fecha_inicio",align:"center"},{label:"Estado",name:"estado",align:"center"},{label:"Límite",name:"fecha_limite",align:"center"},{label:"Fin",name:"fecha_fin",align:"center"}]),i=async()=>{try{m.value=!0,u.value!=""&&(p.search=u.value);const n=await v.list(p);f.value=n.data,console.log(n)}catch(n){console.log("Error...",n),o(n.message)}finally{m.value=!1}},P=n=>{p.search=n.search.trim()??"",i()},b=g(!1),C=g(null),x=g("insert");function w(n){n.action=="insert"&&(x.value="insert",b.value=!0),console.log(n)}const Q=g({button_action_style:"dropdown",button_add:!0,button_edit:!0,button_delete:!1,button_detail:!0,hidden_pagination:!1,button_reset:!1,button_cancel:!1,button_pagination_custom:!0}),I=async n=>{try{if(!n)return o("No existe el identificador"),!1;b.value=!0,C.value=n,x.value="update"}catch(d){console.log("Error...",d),i(),o(d.message)}},s=async n=>{try{if(!n)return o("No existe el identificador"),!1;b.value=!0,C.value=n,x.value="update"}catch(d){console.log("Error...",d),i(),o(d.message)}};return pe(()=>{i()}),(n,d)=>{const H=ve("marca-component");return T(),fe(be,null,[t(ye,{class:"q-pa-md"},{default:l(()=>[t(H,{modelValue:n.idMarca,"onUpdate:modelValue":d[0]||(d[0]=q=>n.idMarca=q)},null,8,["modelValue"]),t(qe,{title:"Producción",columns:e.value,rows:f.value,default_action:Q.value,onBtn_action:w,onSearch:P},{body:l(({row:q})=>[t(V,{icon:"las la-lock",color:"red",size:"sm",onClick:R=>n.permisos(q),rounded:"",flat:""},{default:l(()=>[t(M,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:l(()=>d[2]||(d[2]=[k("Permisos")])),_:1,__:[2]})]),_:2},1032,["onClick"])]),id:l(({row:q})=>[r("a",{onClick:R=>I(q.id),class:"link_animate cursor-pointer"},K(q.name),9,Xe)]),semaforo:l(({row:q})=>[t(h,{name:"circle",color:q.color},{default:l(()=>[t(M,{class:ge(`bg-${q.color}`),offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:l(()=>[k(K(q.prioridad),1)]),_:2},1032,["class"])]),_:2},1032,["color"])]),acciones:l(({row:q})=>[t(Ce,{color:"primary",size:"sm",round:"",flat:"",dense:"","dropdown-icon":"las la-ellipsis-v","menu-anchor":"top right","menu-self":"top left","auto-close":!0},{default:l(()=>[t(Z,null,{default:l(()=>[W((T(),j(ee,{clickable:"",onClick:R=>s(q.id)},{default:l(()=>[t(ae,null,{default:l(()=>[t(te,null,{default:l(()=>[t(h,{name:"las la-list-alt",size:"sm",color:"primary"}),d[3]||(d[3]=k(" Producción "))]),_:1,__:[3]})]),_:1})]),_:2},1032,["onClick"])),[[le]])]),_:2},1024)]),_:2},1024)]),_:1},8,["columns","rows","default_action"]),b.value?(T(),j(Se,{key:0,title:"Producción",onClose:d[1]||(d[1]=q=>b.value=!1),size:"lg",maximized:!0},{default:l(()=>[t(Ge,{parent:C.value,parent_action:x.value},null,8,["parent","parent_action"])]),_:1})):_e("",!0)]),_:1}),t(ne,{showing:m.value,label:"Cargando...","label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing"])],64)}}};export{ua as default};
