import{u as ne,Q as L,b as oe,a as A}from"./notifyHooks-DTCs8dSN.js";import{r as t,g as ue,c as ie,o as O,a as e,w as o,m as X,Q as P,q as de,j as h,y as j,s as R,z as Z,l as Y,F as re,i as J,b as K,t as M,k as _e,Z as $e,n as Ue,$ as De,f as he,a1 as Ie,x as Ae}from"./index-DhVY4AOr.js";import{Q as ge}from"./QImg-Dbz0IE_y.js";import{Q as Pe,a as te}from"./QTabs-qtIIcNk0.js";import{Q as xe}from"./QExpansionItem-BpTg90Cf.js";import{Q as ze,a as se}from"./QTabPanels-BP3LM9Fb.js";import{Q as Qe}from"./QPage-C9SVU1xd.js";import{_ as ce,P as me}from"./PopupComponent-BMoTzUKP.js";import{Q as ve}from"./QForm-mmGRrtT6.js";import{_ as g,a as W}from"./selectComponent-DZrnU1wb.js";import{_ as be,f as Ce,a as qe,u as Ve}from"./formatDate-DzzFVTZi.js";import{_ as Ne}from"./imageComponent-G_iIqQmX.js";import"./use-quasar-2VkCt5Th.js";import"./QSlideTransition-DTNjs9-t.js";import"./use-panel-CdId_k0j.js";import"./touch-BjYP5sR0.js";import"./use-render-cache-7gfEi9oV.js";import"./vue-i18n.runtime-mEmbPDrt.js";const Se={class:"row full-width items-center"},Be={class:"col-auto"},Te={class:"col text-right"},Re={__name:"funcionarioInformacionComponent",props:{parent:{type:Number,required:!1,default:null},parent_action:{type:Number,required:!1,default:null}},setup(ee){const{successNotify:F,errorNotify:n}=ne(),T=t(!1),C=t("usuarios"),y=t("insert"),$=ee,B=t(null);B.value=$.parent,$.parent_action&&(y.value=$.parent_action);const U=t(""),f=t(""),x=t(""),z=t(""),Q=t(""),b=t(null),_=t(null),w=t(null),V=t(null),q=t(null),N=t(""),E=t(""),I=t(""),k=t(null),m=t(""),v=t(""),p=t(""),S=async()=>{if($.parent_action=="update")try{if(!B.value)return n("No existe el identificador"),!1;const l=(await A(C.value).getById(B.value)).data;f.value=l.nombres,U.value=l.usuario,f.value=l.nombres,x.value=l.apellidos,z.value=l.correo,Q.value=l.abreviacion,b.value=l.id_genero,_.value=l.id_estado_civil,w.value=Ce(l.fecha_nacimiento),V.value=l.id_nacionalidad,q.value=l.id_marca,N.value=l.c_nombre,E.value=l.c_celular,I.value=l.c_correo,k.value=l.id_sp,m.value=l.sp_nombre,v.value=l.cussp,y.value="update"}catch(d){console.log("Error...",d),n(d.message)}else H()},le=async()=>{const d={usuario:U.value,nombres:f.value,apellidos:x.value,correo:z.value,abreviacion:Q.value,id_genero:b.value,id_estado_civil:_.value,fecha_nacimiento:qe(w.value),id_nacionalidad:V.value,id_marca:q.value,c_nombre:N.value,c_celular:E.value,c_correo:I.value,id_sp:k.value,sp_nombre:m.value,cussp:v.value,password:p.value};if(y.value=="update"){B.value||n("No existe el identificador");try{const l=await A(`${C.value}/${B.value}`).update(d);F(l.message)}catch(l){l.details?l.details.forEach(a=>{n(a)}):n(l.message)}}else if(y.value=="insert")try{const l=await A(C.value).post(d);F(l.message),y.value="update",B.value=l.data.id}catch(l){l.details?l.details.forEach(a=>{n(a)}):n(l.message)}else n("Ninguna acción seleccionada!")},H=async()=>{U.value="",f.value="",x.value="",z.value="",Q.value="",b.value=null,_.value=null,w.value=null,V.value=null,q.value=null,N.value="",E.value="",I.value="",k.value=null,m.value="",v.value="",p.value=""};return ue(()=>{S()}),(d,l)=>(O(),ie(re,null,[e(Y,{bordered:"",class:"q-mx-sm rounded-borders"},{default:o(()=>[e(ve,{onSubmit:le},{default:o(()=>[e(X,{class:"row q-col-gutter-x-xl"},{default:o(()=>[e(g,{label:"Nombres",modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=a=>f.value=a),rules:"max:70|required"},null,8,["modelValue"]),e(Ne,{label:"Imagen",modelValue:d.imagen,"onUpdate:modelValue":l[2]||(l[2]=a=>d.imagen=a),class:"col-md-6 col-lg-6"},{default:o(()=>[e(P,{icon:"las la-ellipsis-v",size:"sm",round:"",color:"primary",flat:"",dense:"",onClick:l[1]||(l[1]=a=>d.dialog=!0),class:"q-mr-xs"})]),_:1},8,["modelValue"]),e(g,{label:"Apellidos",modelValue:x.value,"onUpdate:modelValue":l[3]||(l[3]=a=>x.value=a),rules:"max:70|required"},null,8,["modelValue"]),e(g,{label:"Correo",modelValue:d.email,"onUpdate:modelValue":l[4]||(l[4]=a=>d.email=a),rules:"max:70|required"},null,8,["modelValue"]),e(g,{label:"Abreviacion",modelValue:Q.value,"onUpdate:modelValue":l[5]||(l[5]=a=>Q.value=a),rules:"min:2|max:2|required"},null,8,["modelValue"]),e(W,{label:"Género",modelValue:b.value,"onUpdate:modelValue":l[6]||(l[6]=a=>b.value=a),rules:"integer",api:"generos",class:"col-md-6 col-lg-6"},null,8,["modelValue"]),e(W,{label:"Estad civil",modelValue:_.value,"onUpdate:modelValue":l[7]||(l[7]=a=>_.value=a),rules:"integer",api:"estado_civil",class:"col-md-6 col-lg-6"},null,8,["modelValue"]),e(be,{label:"Cumpleaños",modelValue:w.value,"onUpdate:modelValue":l[8]||(l[8]=a=>w.value=a),rules:"required",class:"col-md-3 col-lg-3"},null,8,["modelValue"]),e(g,{label:"Nombres",modelValue:N.value,"onUpdate:modelValue":l[9]||(l[9]=a=>N.value=a),rules:"max:140|required"},null,8,["modelValue"]),e(g,{label:"Celular",modelValue:E.value,"onUpdate:modelValue":l[10]||(l[10]=a=>E.value=a),rules:"max:15|required"},null,8,["modelValue"]),e(g,{label:"Correo",modelValue:I.value,"onUpdate:modelValue":l[11]||(l[11]=a=>I.value=a),rules:"max:50|required"},null,8,["modelValue"]),e(W,{label:"Sexo",modelValue:b.value,"onUpdate:modelValue":l[12]||(l[12]=a=>b.value=a),rules:"integer",api:"generos",datawhere:"id!=3",class:"col-md-6 col-lg-6"},null,8,["modelValue"]),e(W,{label:"Estad civil",modelValue:_.value,"onUpdate:modelValue":l[13]||(l[13]=a=>_.value=a),rules:"integer",api:"estado_civil",class:"col-md-6 col-lg-6"},null,8,["modelValue"])]),_:1}),e(de,null,{default:o(()=>[h("div",Se,[l[16]||(l[16]=h("div",{class:"col"},null,-1)),h("div",Be,[e(P,{label:"Guardar",type:"submit",color:"positive",icon:"las la-save",dense:"",outline:""})]),h("div",Te,[j(e(P,{label:"",color:"negative",icon:"las la-trash-alt",dense:"",flat:"",onClick:l[14]||(l[14]=a=>d.buttonDelete())},{default:o(()=>[e(L,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>l[15]||(l[15]=[R("Eliminar")])),_:1,__:[15]})]),_:1},512),[[Z,y.value=="update"]])])])]),_:1})]),_:1})]),_:1}),e(oe,{showing:T.value,label:"Cargando...","label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing"])],64))}},Fe=["onClick"],Le={class:"row full-width items-center"},Ge={class:"col-auto"},Oe={class:"col text-right"},Me={__name:"funcionarioDireccionComponent",props:{parent:{type:Number,required:!1,default:null}},setup(ee){const{successNotify:F,errorNotify:n}=ne(),T=t(!1),C=A("usuario_direccions"),y=t("usuario_direccions"),$=t("insert"),B="https://api.ourspace.ggrosio.com",U=ee,f=t(!1),x=t(null),z=t("las la-plus-circle"),{showConfirmDelete:Q}=Ve(),b=t(null),_=t(""),w=t(""),V=t(""),q=t(""),N=t(""),E=t(""),I=t(""),k=t(""),m=t(""),v=t(""),p=t(""),S=t(""),le=t(0),H=U.parent,d=t([]);let l={};const a=t([{label:"",name:"pais",slot:"pais",align:"center",sortable:!1,hidden:!0},{label:"Dirección ",name:"direccion",link:"id"},{label:"Distrito ",name:"distrito"},{label:"Ciudad",name:"ciudad",align:"center"},{label:"Tel.",name:"telefono",align:"center"},{label:"Celular",name:"celular",align:"center"},{label:"",name:"celular",slot:"social",align:"center",hidden:!0,sortable:!1}]),c=async()=>{try{T.value=!0,l={id_usuario:U.parent||0};const G=await C.list(l);d.value=G.data,console.log(G)}catch(G){console.log("Error...",G),n(G.message)}finally{T.value=!1}},pe=t({button_action_style:"dropdown",button_add:!0,button_edit:!0,button_delete:!1,button_detail:!0,button_reset:!1,button_cancel:!1,button_pagination_custom:!0,hidden_pagination:!1}),ye=async()=>{ae(),$.value="insert",z.value="las la-plus-circle",f.value=!0},we=async G=>{try{if(!G)return n("No existe el identificador"),!1;const s=(await A(y.value).getById(G)).data;b.value=s.id_pais,_.value=s.postal,w.value=s.distrito,V.value=s.ciudad,q.value=s.direccion,N.value=s.telefono,E.value=s.celular,I.value=s.correo,k.value=s.whatsapp,m.value=s.instagram,v.value=s.facebook,p.value=s.skype,S.value=s.web,f.value=!0,$.value="update",z.value="las la-edit",x.value=G}catch(i){console.log("Error...",i),c(),n(i.message)}},ke=async()=>{try{Q(async()=>{await A(y.value).remove(x.value),c(),f.value=!1})}catch(G){n(G.toString())}},fe=async()=>{const G={id_pais:b.value,postal:_.value,distrito:w.value,ciudad:V.value,direccion:q.value,telefono:N.value,celular:E.value,correo:I.value,whatsapp:k.value,instagram:m.value,facebook:v.value,skype:p.value,web:S.value,id_usuario:H,orden:le.value||0};if($.value=="update"){console.log(x.value),x.value||n("No existe el identificador");try{const i=await A(`${y.value}/${x.value}`).update(G);F(i.message),f.value=!1,c()}catch(i){i.details?i.details.forEach(s=>{n(s)}):n(i.message)}}else if($.value=="insert")try{const i=await A(y.value).post(G);F(i.message),f.value=!1,ae(),c()}catch(i){i.details?i.details.forEach(s=>{n(s)}):n(i.message)}else n("Ninguna acción seleccionada!")},ae=async()=>{b.value=null,_.value="",w.value="",V.value="",q.value="",N.value="",E.value="",I.value="",k.value="",m.value="",v.value="",p.value="",S.value="",le.value=0};return ue(()=>{c()}),(G,i)=>(O(),ie(re,null,[e(Y,{bordered:"",class:"q-mx-sm q-rounded-lg"},{default:o(()=>[e(X,null,{default:o(()=>[e(ce,{title:"",columns:a.value,rows:d.value,default_action:pe.value},{header:o(()=>[e(P,{label:"Añadir",icon:"las la-plus-circle",color:"green",dense:"",outline:"",onClick:i[0]||(i[0]=s=>ye())})]),id:o(({row:s})=>[h("a",{onClick:D=>we(s.id),class:"link_animate cursor-pointer"},M(s.direccion),9,Fe)]),pais:o(({row:s})=>[e(ge,{src:`${_e(B)}/${s.pais_bandera}`,"spinner-color":"white",style:{height:"auto",width:"18px"}},{default:o(()=>[e(L,{class:"bg-grey",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(M(s.pais),1)]),_:2},1024)]),_:2},1032,["src"])]),social:o(({row:s})=>[s.whatsapp?(O(),J(P,{key:0,icon:"lab la-whatsapp",color:"green",flat:"",dense:"",size:"sm"},{default:o(()=>[e(L,{class:"bg-green",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(" Whatsapp:"+M(s.whatsapp),1)]),_:2},1024)]),_:2},1024)):K("",!0),s.facebook?(O(),J(P,{key:1,icon:"lab la-facebook",color:"blue",flat:"",dense:"",size:"sm"},{default:o(()=>[e(L,{class:"bg-blue",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(" Facebook: "+M(s.whatsapp),1)]),_:2},1024)]),_:2},1024)):K("",!0),s.instagram?(O(),J(P,{key:2,icon:"lab la-instagram",color:"pink",flat:"",dense:"",size:"sm"},{default:o(()=>[e(L,{class:"bg-pink",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(M(s.whatsapp),1)]),_:2},1024)]),_:2},1024)):K("",!0),s.skype?(O(),J(P,{key:3,icon:"lab la-skype",color:"blue-5",flat:"",dense:"",size:"sm"},{default:o(()=>[e(L,{class:"bg-blue-5",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(" Skype: "+M(s.whatsapp),1)]),_:2},1024)]),_:2},1024)):K("",!0),s.web?(O(),J(P,{key:4,icon:"las la-link",color:"grey",flat:"",dense:"",size:"sm"},{default:o(()=>[e(L,{class:"bg-grey",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(M(s.web),1)]),_:2},1024)]),_:2},1024)):K("",!0)]),_:1},8,["columns","rows","default_action"]),f.value?(O(),J(me,{key:0,title:"Dirección",icon:z.value,onClose:i[15]||(i[15]=s=>f.value=!1),size:"lg"},{default:o(()=>[e(ve,{onSubmit:fe},{default:o(()=>[e(Y,{class:"q-pb-sm"},{default:o(()=>[e(X,null,{default:o(()=>[e(Y,null,{default:o(()=>[e(X,{class:"row q-col-gutter-x-lg"},{default:o(()=>[e(W,{label:"Pais",modelValue:b.value,"onUpdate:modelValue":i[1]||(i[1]=s=>b.value=s),rules:"integer|required",api:"pais"},null,8,["modelValue"]),e(g,{label:"Postal",modelValue:_.value,"onUpdate:modelValue":i[2]||(i[2]=s=>_.value=s),rules:"max:50|required"},null,8,["modelValue"]),e(g,{label:"Distrito",modelValue:w.value,"onUpdate:modelValue":i[3]||(i[3]=s=>w.value=s),rules:"max:50|required"},null,8,["modelValue"]),e(g,{label:"Ciudad",modelValue:V.value,"onUpdate:modelValue":i[4]||(i[4]=s=>V.value=s),rules:"max:50"},null,8,["modelValue"]),e(g,{label:"Direccion",modelValue:q.value,"onUpdate:modelValue":i[5]||(i[5]=s=>q.value=s),rules:"max:100"},null,8,["modelValue"]),e(g,{label:"Telefono",modelValue:N.value,"onUpdate:modelValue":i[6]||(i[6]=s=>N.value=s),rules:"max:50"},null,8,["modelValue"]),e(g,{label:"Celular",modelValue:E.value,"onUpdate:modelValue":i[7]||(i[7]=s=>E.value=s),rules:"max:50|required"},null,8,["modelValue"]),e(g,{label:"Correo",modelValue:I.value,"onUpdate:modelValue":i[8]||(i[8]=s=>I.value=s),rules:"max:50|required"},null,8,["modelValue"]),e(g,{label:"Whatsapp",modelValue:k.value,"onUpdate:modelValue":i[9]||(i[9]=s=>k.value=s),rules:"max:50"},null,8,["modelValue"]),e(g,{label:"Instagram",modelValue:m.value,"onUpdate:modelValue":i[10]||(i[10]=s=>m.value=s),rules:"max:50"},null,8,["modelValue"]),e(g,{label:"Facebook",modelValue:v.value,"onUpdate:modelValue":i[11]||(i[11]=s=>v.value=s),rules:"max:50"},null,8,["modelValue"]),e(g,{label:"Skype",modelValue:p.value,"onUpdate:modelValue":i[12]||(i[12]=s=>p.value=s),rules:"max:50"},null,8,["modelValue"]),e(g,{label:"Web",modelValue:S.value,"onUpdate:modelValue":i[13]||(i[13]=s=>S.value=s),rules:"max:200"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(de,{class:"q-pt-md"},{default:o(()=>[h("div",Le,[i[17]||(i[17]=h("div",{class:"col"},null,-1)),h("div",Ge,[e(P,{label:"Guardar",type:"submit",color:"positive",icon:"las la-save",dense:"",outline:""})]),h("div",Oe,[e(P,{label:"",color:"negative",icon:"las la-trash-alt",dense:"",flat:"",onClick:i[14]||(i[14]=s=>ke())},{default:o(()=>[e(L,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>i[16]||(i[16]=[R("Eliminar")])),_:1,__:[16]})]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1},8,["icon"])):K("",!0)]),_:1})]),_:1}),e(oe,{showing:T.value,label:"Cargando...","label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing"])],64))}},We=["onClick"],je={class:"row full-width items-center"},Ze={class:"col-auto"},He={class:"col text-right"},Je={__name:"funcionarioDocumentoComponent",props:{parent:{type:Number,required:!1,default:null}},setup(ee){const{successNotify:F,errorNotify:n}=ne(),T=t(!1),C=A("usuario_documentos"),y=t("usuario_documentos"),$=t("insert"),B=ee,U=t(!1),f=t(null),x=t("las la-plus-circle"),{showConfirmDelete:z}=Ve(),Q=t(null),b=t(""),_=t(null),w=t(null),V=t(null),q=B.parent,N=t([]);let E={};const I=t([{label:"",name:"archivo",slot:"archivo",hidden:!0,align:"center",sortable:!1,width:"50px"},{label:"Número",name:"nro_documento",link:"id",slot:"acciones"},{label:"Tipo",name:"tipo_documento",align:"center"},{label:"Emisión",name:"fecha_emision",align:"center"},{label:"Caducidad",name:"fecha_caducidad",align:"center"}]),k=async()=>{try{T.value=!0,E={id_usuario:B.parent||0};const d=await C.list(E);N.value=d.data}catch(d){console.log("Error...",d),n(d.message)}finally{T.value=!1}},m=t({button_add:!0,button_edit:!0,button_delete:!1,button_detail:!0,hidden_pagination:!1,button_reset:!1,button_cancel:!1,button_pagination_custom:!0}),v=async()=>{H(),$.value="insert",x.value="las la-plus-circle",U.value=!0},p=async d=>{try{if(!d)return n("No existe el identificador"),!1;const l=await A(y.value).getById(d),a=l.data;Q.value=a.id_tipo_documento,b.value=a.nro_documento,_.value=a.fecha_emision,w.value=a.fecha_caducidad,V.value=a.archivo,U.value=!0,$.value="update",x.value="las la-edit",f.value=d,console.log("Success...",l)}catch(l){console.log("Error...",l),k(),n(l.message)}},S=async()=>{try{z(async()=>{await A(y.value).remove(f.value),k(),U.value=!1})}catch(d){n(d.toString())}},le=async()=>{const d={id_tipo_documento:Q.value,nro_documento:b.value,fecha_emision:_.value,fecha_caducidad:w.value,archivo:V.value,id_usuario:q};if($.value=="update"){f.value||n("No existe el identificador");try{const l=await A(`${y.value}/${f.value}`).update(d);F(l.message),U.value=!1,k()}catch(l){l.details?l.details.forEach(a=>{n(a)}):n(l.message)}}else if($.value=="insert")try{const l=await A(y.value).post(d);F(l.message),U.value=!1,H(),k()}catch(l){l.details?l.details.forEach(a=>{n(a)}):n(l.message)}else n("Ninguna acción seleccionada!")},H=async()=>{Q.value=null,b.value="",_.value=null,w.value=null,V.value=""};return ue(()=>{k()}),(d,l)=>(O(),ie(re,null,[e(Y,{bordered:"",class:"q-mx-sm q-rounded-lg"},{default:o(()=>[e(X,null,{default:o(()=>[e(ce,{title:"",columns:I.value,rows:N.value,default_action:m.value},{header:o(()=>[e(P,{label:"Añadir",icon:"las la-plus-circle",color:"green",dense:"",outline:"",onClick:l[0]||(l[0]=a=>v())})]),id:o(({row:a})=>[h("a",{onClick:c=>p(a.id),class:"link_animate cursor-pointer"},M(a.nro_documento),9,We)]),archivo:o(({row:a})=>[e($e,{name:"las la-cloud-download-alt cursor-pointer",size:"sm"},{default:o(()=>[e(L,{class:"bg-grey",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(" Descargar "+M(a.archivo),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["columns","rows","default_action"]),U.value?(O(),J(me,{key:0,title:"Documento",icon:x.value,onClose:l[9]||(l[9]=a=>U.value=!1),size:"lg"},{default:o(()=>[e(ve,{onSubmit:le},{default:o(()=>[e(Y,{class:"q-pb-sm"},{default:o(()=>[e(X,null,{default:o(()=>[e(Y,null,{default:o(()=>[e(X,{class:"row q-col-gutter-x-lg"},{default:o(()=>[e(W,{label:"Participante",modelValue:d.td_id_usuario,"onUpdate:modelValue":l[1]||(l[1]=a=>d.td_id_usuario=a),field:"td_id_usuario",rules:"integer",api:"usuarios",class:"col-md-6 col-lg-6"},null,8,["modelValue"]),e(W,{label:"Entidad",modelValue:d.td_id_categoria,"onUpdate:modelValue":l[2]||(l[2]=a=>d.td_id_categoria=a),field:"td_id_categoria",rules:"integer|required",api:"tarea_categorias"},null,8,["modelValue"]),e(g,{label:"Tarea",modelValue:d.td_name,"onUpdate:modelValue":l[3]||(l[3]=a=>d.td_name=a),field:"td_name",rules:"max:70|required"},null,8,["modelValue"]),e(be,{label:"Inicio",modelValue:d.td_fecha_inicio,"onUpdate:modelValue":l[4]||(l[4]=a=>d.td_fecha_inicio=a),field:"td_fecha_inicio",rules:"required",class:"col-md-3 col-lg-3"},null,8,["modelValue"]),e(be,{label:"Límite",modelValue:d.td_fecha_limite,"onUpdate:modelValue":l[5]||(l[5]=a=>d.td_fecha_limite=a),field:"td_fecha_limite",rules:"required",class:"col-md-3 col-lg-23"},null,8,["modelValue"]),e(W,{label:"Prioridad",modelValue:d.td_id_prioridad,"onUpdate:modelValue":l[6]||(l[6]=a=>d.td_id_prioridad=a),field:"id_prioridad",rules:"integer|required",api:"estados_prioridad"},null,8,["modelValue"]),e(W,{label:"Estado",modelValue:d.td_id_estado,"onUpdate:modelValue":l[7]||(l[7]=a=>d.td_id_estado=a),field:"td_id_estado",rules:"integer|required",api:"estados_tarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(de,{class:"q-pt-md"},{default:o(()=>[h("div",je,[l[11]||(l[11]=h("div",{class:"col"},null,-1)),h("div",Ze,[e(P,{label:"Guardar",type:"submit",color:"positive",icon:"las la-save",dense:"",outline:""})]),h("div",He,[e(P,{label:"",color:"negative",icon:"las la-trash-alt",dense:"",flat:"",onClick:l[8]||(l[8]=a=>S())},{default:o(()=>[e(L,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>l[10]||(l[10]=[R("Eliminar")])),_:1,__:[10]})]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1},8,["icon"])):K("",!0)]),_:1})]),_:1}),e(oe,{showing:T.value,label:"Cargando...","label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing"])],64))}},Ke=["onClick"],Xe={class:"row full-width items-center"},Ye={class:"col-auto"},el={class:"col text-right"},ll={__name:"funcionarioDependienteComponent",props:{parent:{type:Number,required:!1,default:null}},setup(ee){const{successNotify:F,errorNotify:n}=ne(),T=t(!1),C=A("usuario_dependientes"),y=t("usuario_dependientes"),$=t("insert"),B="https://api.ourspace.ggrosio.com",U=ee,f=t(!1),x=t(null),z=t("las la-plus-circle"),{showConfirmDelete:Q}=Ve(),b=t(""),_=t(""),w=t(null),V=t(null),q=t(""),N=U.parent,E=t([]);let I={};const k=t([{label:"las la-venus-mars",name:"genero",slot:"genero",align:"center",hidden:!0,sortable:!1},{label:"Nombres ",name:"name",link:"id"},{label:"Edad ",name:"edad",align:"center"},{label:"Nacimiento ",name:"fecha_nacimiento",align:"center",format:"date"},{label:"Documento",name:"nro_documento",align:"center"}]),m=async()=>{try{T.value=!0,I={id_usuario:N||0};const l=await C.list(I);console.log(l.data),E.value=l.data.map(a=>({...a,fecha_nacimiento:Ce(a.fecha_nacimiento)}))}catch(l){console.log("Error...",l),n(l.message)}finally{T.value=!1}},v=t({button_action_style:"dropdown",button_add:!1,button_edit:!0,button_delete:!1,button_detail:!0,button_reset:!1,button_cancel:!1,button_pagination_custom:!0,hidden_pagination:!1}),p=async()=>{d(),$.value="insert",z.value="las la-plus-circle",f.value=!0},S=async l=>{try{if(!l)return n("No existe el identificador"),!1;const c=(await A(y.value).getById(l)).data;b.value=c.nombres,_.value=c.apellidos,w.value=c.id_genero,V.value=Ce(c.fecha_nacimiento),q.value=c.nro_documento,f.value=!0,$.value="update",z.value="las la-edit",x.value=l}catch(a){console.log("Error...",a),m(),n(a.message)}},le=async()=>{try{Q(async()=>{await A(y.value).remove(x.value),m(),f.value=!1})}catch(l){n(l.toString())}},H=async()=>{const l={nombres:b.value,apellidos:_.value,id_genero:w.value,fecha_nacimiento:qe(V.value),nro_documento:q.value,id_usuario:N};if($.value=="update"){x.value||n("No existe el identificador");try{const a=await A(`${y.value}/${x.value}`).update(l);F(a.message),f.value=!1,m()}catch(a){a.details?a.details.forEach(c=>{n(c)}):n(a.message)}}else if($.value=="insert")try{const a=await A(y.value).post(l);F(a.message),f.value=!1,d(),m()}catch(a){a.details?a.details.forEach(c=>{n(c)}):n(a.message)}else n("Ninguna acción seleccionada!")},d=async()=>{b.value="",_.value="",w.value=null,V.value=null,q.value=""};return ue(()=>{m()}),(l,a)=>(O(),ie(re,null,[e(Y,null,{default:o(()=>[e(X,null,{default:o(()=>[e(ce,{title:"",columns:k.value,rows:E.value,default_action:v.value},{header:o(()=>[e(P,{label:"Añadir",icon:"las la-plus-circle",color:"green",dense:"",outline:"",onClick:a[0]||(a[0]=c=>p())})]),id:o(({row:c})=>[h("a",{onClick:pe=>S(c.id),class:"link_animate cursor-pointer"},M(c.name),9,Ke)]),genero:o(({row:c})=>[e($e,{name:c.icon,color:c.color,size:"xs"},{default:o(()=>[e(L,{class:Ue(`bg-${c.color}`),offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(M(c.genero),1)]),_:2},1032,["class"])]),_:2},1032,["name","color"])]),pais:o(({row:c})=>[e(ge,{src:`${_e(B)}/${c.pais_bandera}`,"spinner-color":"white",style:{height:"auto",width:"18px"}},{default:o(()=>[e(L,{class:"bg-grey",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(M(c.pais),1)]),_:2},1024)]),_:2},1032,["src"])]),_:1},8,["columns","rows","default_action"]),f.value?(O(),J(me,{key:0,title:"Dependientes",icon:z.value,onClose:a[7]||(a[7]=c=>f.value=!1),size:"sm"},{default:o(()=>[e(ve,{onSubmit:H},{default:o(()=>[e(Y,{class:"no-shadow"},{default:o(()=>[e(X,{class:"row q-col-gutter-x-xl"},{default:o(()=>[e(g,{label:"Nombres",modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=c=>b.value=c),rules:"max:30|required"},null,8,["modelValue"]),e(g,{label:"Apellidos",modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=c=>_.value=c),rules:"max:30|required"},null,8,["modelValue"]),e(W,{label:"Sexo",modelValue:w.value,"onUpdate:modelValue":a[3]||(a[3]=c=>w.value=c),rules:"integer|required",api:"generos",datawhere:"id!=3"},null,8,["modelValue"]),e(g,{label:"Documento",modelValue:q.value,"onUpdate:modelValue":a[4]||(a[4]=c=>q.value=c),rules:"integer|max:8"},null,8,["modelValue"]),e(be,{label:"Nacimiento",modelValue:V.value,"onUpdate:modelValue":a[5]||(a[5]=c=>V.value=c),rules:"required",class:"col-md-3 col-lg-3"},null,8,["modelValue"])]),_:1}),e(de,null,{default:o(()=>[h("div",Xe,[a[9]||(a[9]=h("div",{class:"col"},null,-1)),h("div",Ye,[e(P,{label:"Guardar",type:"submit",color:"positive",icon:"las la-save",dense:"",outline:""})]),h("div",el,[e(P,{label:"",color:"negative",icon:"las la-trash-alt",dense:"",flat:"",onClick:a[6]||(a[6]=c=>le())},{default:o(()=>[e(L,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>a[8]||(a[8]=[R("Eliminar")])),_:1,__:[8]})]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1},8,["icon"])):K("",!0)]),_:1})]),_:1}),e(oe,{showing:T.value,label:"Cargando...","label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing"])],64))}},al=["onClick"],tl={class:"row full-width items-center"},ol={class:"col-auto"},sl={class:"col text-right"},nl={__name:"funcionarioCuentaBancariaComponent",props:{parent:{type:Number,required:!1,default:null}},setup(ee){const{successNotify:F,errorNotify:n}=ne(),T=t(!1),C=A("usuario_banco_cuentas"),y=t("usuario_banco_cuentas"),$=t("insert"),B="https://api.ourspace.ggrosio.com",U=ee,f=t(!1),x=t(null),z=t("las la-plus-circle"),{showConfirmDelete:Q}=Ve(),b=t(null),_=t(null),w=t(""),V=t(null),q=t(""),N=t(""),E=t(null),I=t(""),k=t(""),m=t(""),v=t(""),p=t(""),S=t(""),le=U.parent,H=t([]);let d={};const l=t([{label:"",name:"pais",slot:"pais",align:"center",sortable:!1,hidden:!0},{label:"Nro cuenta ",name:"nro_cuenta",link:"id"},{label:"Banco ",name:"banco"},{label:"Moneda",name:"moneda",align:"center"},{label:"Tipo cuenta",name:"id_tipo_cuenta"},{label:"Swift",name:"swift"},{label:"Aba",name:"aba"},{label:"Ciudad",name:"ciudad"}]),a=async()=>{try{T.value=!0,d={id_usuario:U.parent||0};const D=await C.list(d);H.value=D.data}catch(D){console.log("Error...",D),n(D.message)}finally{T.value=!1}},c=t({button_action_style:"dropdown",button_add:!0,button_edit:!0,button_delete:!1,button_detail:!0,button_reset:!1,button_cancel:!1,button_pagination_custom:!0,hidden_pagination:!1}),pe=async()=>{fe(),$.value="insert",z.value="las la-plus-circle",f.value=!0},ye=async D=>{try{if(!D)return n("No existe el identificador"),!1;const u=(await A(y.value).getById(D)).data;b.value=u.id_banco,_.value=u.id_tipo_cuenta,w.value=u.nro_cuenta,V.value=u.id_moneda,q.value=u.swift,N.value=u.aba,E.value=u.id_pais,I.value=u.ciudad,k.value=u.distrito,m.value=u.estado,v.value=u.direccion,p.value=u.cp,S.value=u.detalle,f.value=!0,$.value="update",z.value="las la-edit",x.value=D}catch(r){console.log("Error...",r),a(),n(r.message)}},we=async()=>{try{Q(async()=>{await A(y.value).remove(x.value),a(),f.value=!1})}catch(D){n(D.toString())}},ke=async()=>{const D={id_banco:b.value,id_tipo_cuenta:_.value,nro_cuenta:w.value,id_moneda:V.value,swift:q.value,aba:N.value,id_pais:E.value,ciudad:I.value,distrito:k.value,estado:m.value,direccion:v.value,cp:p.value,detalle:S.value,id_usuario:le};if($.value=="update"){x.value||n("No existe el identificador");try{const r=await A(`${y.value}/${x.value}`).update(D);F(r.message),f.value=!1,a()}catch(r){r.details?r.details.forEach(u=>{n(u)}):n(r.message)}}else if($.value=="insert")try{const r=await A(y.value).post(D);F(r.message),f.value=!1,fe(),a()}catch(r){r.details?r.details.forEach(u=>{n(u)}):n(r.message)}else n("Ninguna acción seleccionada!")},fe=async()=>{b.value=null,_.value=null,w.value="",V.value=null,q.value="",N.value="",E.value=null,I.value="",k.value="",m.value="",v.value="",p.value="",S.value=""},ae=t(new Set);function G(D){ae.value.has(D)?ae.value.delete(D):ae.value.add(D)}function i(D){return ae.value.has(D)}function s(D){return D?"**** **** **** "+D.slice(-4):""}return ue(()=>{a()}),(D,r)=>(O(),ie(re,null,[e(Y,{class:Ue(D.$q.dark.isActive?"bg-grey-9":"bg-grey-2")},{default:o(()=>[e(X,null,{default:o(()=>[e(ce,{title:"",columns:l.value,rows:H.value,default_action:c.value},{header:o(()=>[e(P,{label:"Añadir",icon:"las la-plus-circle",color:"green",dense:"",outline:"",onClick:r[0]||(r[0]=u=>pe())})]),id:o(({row:u})=>[h("a",{onClick:Ee=>ye(u.id),class:"link_animate cursor-pointer"},[h("span",null,[R(M(i(u.id)?u.nro_cuenta:s(u.nro_cuenta))+" ",1),e(P,{icon:i(u.id)?"visibility_off":"visibility",flat:"",dense:"",size:"sm",onClick:De(Ee=>G(u.id),["stop"])},null,8,["icon","onClick"])])],8,al)]),pais:o(({row:u})=>[e(ge,{src:`${_e(B)}/${u.pais_bandera}`,"spinner-color":"white",style:{height:"auto",width:"18px"}},{default:o(()=>[e(L,{class:"bg-grey",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(M(u.pais),1)]),_:2},1024)]),_:2},1032,["src"])]),_:1},8,["columns","rows","default_action"]),f.value?(O(),J(me,{key:0,title:"Cuenta",icon:z.value,onClose:r[15]||(r[15]=u=>f.value=!1),size:"lg"},{default:o(()=>[e(ve,{onSubmit:ke},{default:o(()=>[e(Y,{class:"q-pb-sm"},{default:o(()=>[e(X,{class:"row q-col-gutter-x-lg"},{default:o(()=>[e(W,{label:"Banco",modelValue:b.value,"onUpdate:modelValue":r[1]||(r[1]=u=>b.value=u),rules:"integer|required",api:"bancos"},null,8,["modelValue"]),e(W,{label:"Tipo cuenta",modelValue:_.value,"onUpdate:modelValue":r[2]||(r[2]=u=>_.value=u),rules:"integer|required",dataenum:"1|Cuenta de ahorro;2|Cuenta corriente"},null,8,["modelValue"]),e(g,{label:"Nro cuenta",modelValue:w.value,"onUpdate:modelValue":r[3]||(r[3]=u=>w.value=u),rules:"max:25|required"},null,8,["modelValue"]),e(W,{label:"Moneda  ",modelValue:V.value,"onUpdate:modelValue":r[4]||(r[4]=u=>V.value=u),rules:"integer|required",api:"monedas"},null,8,["modelValue"]),e(g,{label:"Swift",modelValue:q.value,"onUpdate:modelValue":r[5]||(r[5]=u=>q.value=u),rules:"max:25"},null,8,["modelValue"]),e(g,{label:"Aba",modelValue:N.value,"onUpdate:modelValue":r[6]||(r[6]=u=>N.value=u),rules:"max:25"},null,8,["modelValue"]),e(g,{label:"Cp",modelValue:p.value,"onUpdate:modelValue":r[7]||(r[7]=u=>p.value=u),rules:"max:80"},null,8,["modelValue"]),e(W,{label:"Pais",modelValue:E.value,"onUpdate:modelValue":r[8]||(r[8]=u=>E.value=u),rules:"integer",api:"pais"},null,8,["modelValue"]),e(g,{label:"Distrito",modelValue:k.value,"onUpdate:modelValue":r[9]||(r[9]=u=>k.value=u),rules:"max:40"},null,8,["modelValue"]),e(g,{label:"Ciudad",modelValue:I.value,"onUpdate:modelValue":r[10]||(r[10]=u=>I.value=u),rules:"max:40"},null,8,["modelValue"]),e(g,{label:"Estado",modelValue:m.value,"onUpdate:modelValue":r[11]||(r[11]=u=>m.value=u),rules:"max:40"},null,8,["modelValue"]),e(g,{label:"Observación / Detalle",modelValue:S.value,"onUpdate:modelValue":r[12]||(r[12]=u=>S.value=u),rules:"max:25"},null,8,["modelValue"]),e(g,{label:"Dirección",modelValue:v.value,"onUpdate:modelValue":r[13]||(r[13]=u=>v.value=u),rules:"max:100",class:"col-md-12 col-lg-12"},null,8,["modelValue"])]),_:1}),e(de,{class:"q-pt-md"},{default:o(()=>[h("div",tl,[r[17]||(r[17]=h("div",{class:"col"},null,-1)),h("div",ol,[e(P,{label:"Guardar",type:"submit",color:"positive",icon:"las la-save",dense:"",outline:""})]),h("div",sl,[e(P,{label:"",color:"negative",icon:"las la-trash-alt",dense:"",flat:"",onClick:r[14]||(r[14]=u=>we())},{default:o(()=>[e(L,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>r[16]||(r[16]=[R("Eliminar")])),_:1,__:[16]})]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1},8,["icon"])):K("",!0)]),_:1})]),_:1},8,["class"]),e(oe,{showing:T.value,label:"Cargando...","label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing"])],64))}},ul={class:"q-gutter-none q-px-md"},il=["onClick"],Ul={__name:"FuncionarioPage",setup(ee){const{errorNotify:F}=ne(),n=t(!1),T=A("usuarios"),C=t("insert"),y=t("insert"),$="https://api.ourspace.ggrosio.com",B=t(!1),U=t(null),f=t("las la-plus-circle"),x=t(""),z=t(!1),Q=t(1),b={},_=t([]),w=t([{label:"",name:"pais",slot:"pais",align:"center",sortable:!1,hidden:!0},{label:"Nombre",name:"name",link:"id"},{label:"",name:"foto",slot:"foto",align:"center",sortable:!1,hidden:!0},{label:"Cargo",name:"cargo"},{label:"Correo",name:"email"},{label:"Estado",name:"estado"}]),V=async()=>{try{n.value=!0,x.value!=""&&(b.search=x.value),b.id_estado=Q.value;const m=await T.list(b);_.value=m.data}catch(m){console.log("Error...",m),F(m.message)}finally{n.value=!1}},q=m=>{b.search=m.search.trim()??"",V()};he(z,m=>{Q.value=null,b.listable=m||null,V()}),he(Q,m=>{b.id_estado=m||null,V()});const N=t({button_action_style:"dropdown",button_add:!0,button_edit:!0,button_delete:!1,button_detail:!0,button_reset:!1,button_cancel:!1,button_pagination_custom:!0}),E=async()=>{C.value="insert",y.value="insert",f.value="las la-plus-circle",B.value=!0,k.value="informacion_personal"},I=async m=>{try{if(!m)return F("No existe el identificador"),!1;B.value=!0,U.value=m,y.value="update",C.value="update"}catch(v){console.log("Error...",v),V(),F(v.message)}},k=t("informacion_personal");return ue(()=>{V()}),(m,v)=>(O(),ie(re,null,[n.value?K("",!0):(O(),J(Qe,{key:0,class:"q-px-sm q-pt-lg"},{default:o(()=>[e(oe,{showing:n.value,label:"Cargando..."},null,8,["showing"]),e(ce,{title:"",columns:w.value,rows:_.value,default_action:N.value,onSearch:q},{header:o(()=>[e(P,{label:"Añadir",icon:"las la-plus-circle",color:"green",dense:"",outline:"",onClick:v[0]||(v[0]=p=>E())})]),header_right:o(()=>[e(W,{label:"Estado",modelValue:Q.value,"onUpdate:modelValue":v[1]||(v[1]=p=>Q.value=p),api:"estados_activacion"},null,8,["modelValue"]),h("div",ul,[e(Ie,{"left-label":"",modelValue:z.value,"onUpdate:modelValue":v[2]||(v[2]=p=>z.value=p),"checked-icon":"las la-eye-slash","unchecked-icon":"las la-eye",color:"grey",size:"sm",dense:""},{default:o(()=>[e(L,{class:"bg-grey",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>v[6]||(v[6]=[R("Funcionarios archivados")])),_:1,__:[6]})]),_:1},8,["modelValue"])])]),body:o(({row:p})=>[e(P,{icon:"las la-lock",color:"red",size:"sm",onClick:S=>m.permi(p),rounded:"",flat:""},{default:o(()=>[e(L,{class:"bg-red",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>v[7]||(v[7]=[R("Permi")])),_:1,__:[7]})]),_:2},1032,["onClick"])]),id:o(({row:p})=>[h("a",{onClick:S=>I(p.id),class:"link_animate cursor-pointer"},M(p.name),9,il)]),pais:o(({row:p})=>[e(ge,{src:`${_e($)}/${p.pais_bandera}`,"spinner-color":"white",style:{height:"auto",width:"18px"}},{default:o(()=>[e(L,{class:"bg-grey",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:o(()=>[R(M(p.pais),1)]),_:2},1024)]),_:2},1032,["src"])]),foto:o(({row:p})=>[e(Ne,{modelValue:p.foto,"onUpdate:modelValue":S=>p.foto=S,size:"20px"},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["columns","rows","default_action"]),B.value?(O(),J(me,{key:0,title:"Administrador",icon:f.value,onClose:v[5]||(v[5]=p=>B.value=!1),size:"lg",maximized:!1},{default:o(()=>[e(Pe,{modelValue:k.value,"onUpdate:modelValue":v[3]||(v[3]=p=>k.value=p),dense:"",class:"text-grey-8 custom_tab","active-color":"black",align:"left"},{default:o(()=>[e(te,{name:"informacion_personal",label:"Personal"}),j(e(te,{name:"sistema_laboral",label:"Sistema laboral"},null,512),[[Z,C.value=="update"]]),j(e(te,{name:"cuentas",label:"Cuentas"},null,512),[[Z,C.value=="update"]]),j(e(te,{name:"dependientes",label:"Dependientes"},null,512),[[Z,C.value=="update"]]),j(e(te,{name:"estudios",label:"Estudios"},null,512),[[Z,C.value=="update"]]),j(e(te,{name:"inventarios",label:"Inventarios"},null,512),[[Z,C.value=="update"]]),j(e(te,{name:"tor",label:"ToR"},null,512),[[Z,C.value=="update"]])]),_:1},8,["modelValue"]),e(Ae),e(ze,{modelValue:k.value,"onUpdate:modelValue":v[4]||(v[4]=p=>k.value=p),animated:""},{default:o(()=>[e(se,{name:"informacion_personal"},{default:o(()=>[e(xe,{dense:"","default-opened":"",label:"Información",icon:"las la-edit",class:"text-grey-9 q-mt-sm","header-class":"text-grey-6"},{default:o(()=>[e(Re,{parent:U.value,parent_action:y.value},null,8,["parent","parent_action"])]),_:1}),j(e(xe,{dense:"",label:"Documento",icon:"las la-folder-open",class:"text-grey-9 q-mt-sm","header-class":"text-grey-6"},{default:o(()=>[e(Je,{parent:U.value},null,8,["parent"])]),_:1},512),[[Z,C.value=="update"]]),j(e(xe,{dense:"",label:"Dirección",icon:"las la-map-marker",class:"text-grey-9 q-mt-sm","header-class":"text-grey-6"},{default:o(()=>[e(Me,{parent:U.value},null,8,["parent"])]),_:1},512),[[Z,C.value=="update"]])]),_:1}),j(e(se,{name:"sistema_laboral"},null,512),[[Z,C.value=="update"]]),j(e(se,{name:"cuentas"},{default:o(()=>[e(nl,{parent:U.value},null,8,["parent"])]),_:1},512),[[Z,C.value=="update"]]),j(e(se,{name:"dependientes"},{default:o(()=>[e(ll,{parent:U.value},null,8,["parent"])]),_:1},512),[[Z,C.value=="update"]]),j(e(se,{name:"estudios"},null,512),[[Z,C.value=="update"]]),j(e(se,{name:"inventarios"},null,512),[[Z,C.value=="update"]])]),_:1},8,["modelValue"])]),_:1},8,["icon"])):K("",!0)]),_:1})),e(oe,{showing:n.value,label:"Cargando...","label-class":"text-teal",color:"blue","label-style":"font-size: 1.1em"},null,8,["showing"])],64))}};export{Ul as default};
